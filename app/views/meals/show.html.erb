<% @title="Meal" %>

<div class="info-extra-bottom">
  <div class="message-container">
    <% flash.each do |key, value| %>
     <% if key == :meal_success || key == :meal_error %>
       <div class="alert alert-<%= key %>"><%= value %></div>
     <% end %>
   <% end %>
  </div>
  <h1>Recipes In Your Meal</h1>

  <hr>
  
  <% @meal.recipes.each do |recipe| -%>
     <div class="recipe">
      <p class="recipe-title"><strong><%= recipe.title %></strong></p>
      <p class="recipe-tags"><%= recipe.tags %></p>
      <%= link_to "Customize", recipe %>
      <%= link_to "Remove", recipe, method: :remove_from_meal %>
     </div>
    <br />
  <% end -%>
  <%= form_for(@meal) do |f| %>
    <%= render 'shared/errors', object: @meal if @meal.errors.any? %>
    <p>
      <%= f.label :cooks %>
      <%= f.number_field :cooks, :min => 1 %>
    </p>

    <%= f.submit "Combine Recipes" %>
  <% end %>
</div>
