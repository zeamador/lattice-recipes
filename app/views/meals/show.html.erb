<% @title="Meal" %>

<div class="info extra-bottom">

  <% #Messages from controller %>
  <div class="message-container">
    <% flash.each do |key, value| %>
      <% if key == :meal_success || key == :meal_error %>
       <div class="alert alert-<%= key %>"><%= value %></div>
      <% end %>
   <% end %>
  </div>
  
  <h1>Recipes In Your Meal</h1>

  <% #Page break %>
  <hr>
  
  <% #Show all recipes in meal %>
  <% @meal.recipes.each do |recipe| -%>
     <div class="recipe">
      <p class="recipe-title"><strong><%= recipe.title %></strong></p>
      <p class="recipe-tags"><%= recipe.tags %></p>
      <%= link_to "Customize", recipe %>
      <%= link_to "Remove", recipe, method: :remove_from_meal %>
     </div>
    <br />
  <% end -%>
  <%= form_for(@meal) do |f| %>
    <%= render 'shared/errors', object: @meal if @meal.errors.any? %>
    <p>
      <strong><%= f.label :cooks %></strong>
      <%= f.number_field :cooks, :class => "number-input-box", :min => 1 %>
    </p>

    <%= f.submit "Combine Recipes" %>
  <% end %>
</div>
